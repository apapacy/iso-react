exports.ids=[2,1,4,7,8,9,10,11,12,13,14,15,16,17,18],exports.modules=[,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(0)),l=n(a(2));function n(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.article,a=e.user,l=e.onClick,n=e.addClassName;return a&&a.username&&t.author.username!==a.username?t.favorited?r.default.createElement("button",{className:"btn btn-sm btn-primary "+n,onClick:l},r.default.createElement("i",{className:"ion-heart"}),n?null:r.default.createElement("span",null," Unvorite Post")," ",r.default.createElement("span",{className:"counter"},t.favoritesCount)):r.default.createElement("button",{className:"btn btn-sm btn-outline-primary "+n,onClick:l},r.default.createElement("i",{className:"ion-heart"}),n?null:r.default.createElement("span",null," Favorite Post")," ",r.default.createElement("span",{className:"counter"},t.favoritesCount)):r.default.createElement("button",{className:"btn btn-sm btn-outline-primary "+n},r.default.createElement("i",{className:"ion-heart"}),n?null:r.default.createElement("span",null," Favorited count")," ",r.default.createElement("span",{className:"counter"},t.favoritesCount))};s.propTypes={article:l.default.shape().isRequired,user:l.default.shape().isRequired,onClick:l.default.func.isRequired,addClassName:l.default.string},t.default=s},,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(a(0)),l=a(12),n=u(a(49)),s=u(a(1));function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,l.withRouter)(function(e){var t=e.count,a=e.pageLength,l=e.page,u=e.match;e.author;return t&&a&&t>a?r.default.createElement("nav",null,r.default.createElement("ul",{className:"pagination"},n.default.range(1,1+Math.ceil(t/a)).map(function(e){return r.default.createElement("li",{className:"page-item"+(e===l?" active":""),key:e},r.default.createElement(s.default,{className:"page-link",to:function(e,t){var a=e.url.replace(/\/(page\/[0-9]+)?$/,"");return 1===t?a||"/":a+"/page/"+t}(u,e)},e))}))):null})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(a(0)),l=a(12),n=s(a(1));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,l.withRouter)(function(e){var t=e.children,a=e.to,l=e.location;return r.default.createElement("li",{className:"nav-item",key:a},r.default.createElement(n.default,{className:"nav-link"+(a===l.pathname?" active":""),to:a},t))})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(0)),l=n(a(2));function n(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.profile,a=e.user,l=e.onClick;return a&&a.id&&a.username!==t.username?t.following?r.default.createElement("button",{className:"btn btn-sm btn-secondary action-btn",onClick:l},r.default.createElement("i",{className:"ion-minus-round"}),"  Unfollow ",t.username):r.default.createElement("button",{className:"btn btn-sm btn-outline-secondary action-btn",onClick:l},r.default.createElement("i",{className:"ion-plus-round"}),"  Follow ",t.username):null};s.propTypes={profile:l.default.shape().isRequired,user:l.default.shape().isRequired,onClick:l.default.func.isRequired},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(50)),l=n(a(0));function n(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return e.error&&e.error.errors?l.default.createElement("ul",{className:"error-messages"},(0,r.default)(e.error.errors).map(function(t){return e.error.errors[t].map(function(e){return l.default.createElement("li",{key:"field:"+t+",message:"+e},t," ",e)})})):e.error&&e.error.message?l.default.createElement("ul",{className:"error-messages"},l.default.createElement("li",null,e.error.message)):null}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(a(0)),l=c(a(39)),n=a(4),s=c(a(2)),u=c(a(1)),i=a(30),o=c(a(11));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){return r.default.createElement("div",{className:"article-preview"},r.default.createElement("div",{className:"article-meta"},r.default.createElement(u.default,{to:"/author/"+e.author.username},r.default.createElement("img",{alt:"☺",src:e.author.image})),r.default.createElement("div",{className:"info"},r.default.createElement(u.default,{to:"/author/"+e.author.username,className:"author"},e.author.username),r.default.createElement("span",{className:"date"},(0,l.default)(e.updatedAt).format("ddd MMM DD YYYY"))),r.default.createElement(o.default,{user:e.user,article:e,onClick:function(t){t.persist(),t.preventDefault(),e.user&&e.user.username&&e.user.username!==e.author.username&&e.dispatch((0,i.favorite)({slug:e.slug,method:e.favorited?"delete":"post"})),t.target.blur()},addClassName:"pull-xs-right"})),r.default.createElement(u.default,{to:"/"+e.slug,className:"preview-link"},r.default.createElement("h1",null,e.title),r.default.createElement("p",null,e.description),r.default.createElement("span",null,"Read more...")),r.default.createElement("div",null,r.default.createElement("ul",{className:"tag-list"},e.tagList.map(function(e){return r.default.createElement("li",{className:"tag-default tag-pill tag-outline",key:e},r.default.createElement(u.default,{to:"/tag/"+e},"#",e))}))))};d.propTypes={dispatch:s.default.func.isRequired,favorited:s.default.bool.isRequired,slug:s.default.string.isRequired,title:s.default.string.isRequired,description:s.default.string.isRequired,updatedAt:s.default.string.isRequired,author:s.default.shape({username:s.default.string,image:s.default.string}).isRequired,tagList:s.default.arrayOf(s.default.string).isRequired,user:s.default.shape({id:s.default.number,username:s.default.string}).isRequired},t.default=(0,n.connect)()(d)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(a(0)),l=a(4),n=u(a(1)),s=u(a(24));function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,l.connect)(function(e){return{user:e.user}})(function(e){var t=e.children,a=e.user;return r.default.createElement("div",null,r.default.createElement("nav",{className:"navbar navbar-light"},r.default.createElement("div",{className:"container"},r.default.createElement(n.default,{className:"navbar-brand",to:a&&a.id?"/feed":"/"},"conduit"),r.default.createElement("ul",{className:"nav navbar-nav pull-xs-right"},a&&a.id?[r.default.createElement(s.default,{to:"/feed",key:"feed"},r.default.createElement("i",{className:"ion-home"})," Home"),r.default.createElement(s.default,{to:"/new-post",key:"new-post"},r.default.createElement("i",{className:"ion-compose"})," New Post"),r.default.createElement(s.default,{to:"/settings",key:"settings"},r.default.createElement("i",{className:"ion-gear-a"})," Settings"),r.default.createElement(s.default,{to:"/author/"+a.username,key:"author"},r.default.createElement("img",{alt:"author",src:a.image,className:"user-pic"}),a.username),r.default.createElement(s.default,{to:"/sign-out",key:"log-out"},r.default.createElement("i",{className:"ion-log-out"})," Sign out")]:[r.default.createElement(s.default,{to:"/",key:"home"},r.default.createElement("i",{className:"ion-home"})," Home"),r.default.createElement(s.default,{to:"/sign-in",key:"sign-in"},r.default.createElement("i",{className:"ion-log-in"})," Sign in"),r.default.createElement(s.default,{to:"/sign-up",key:"sign-up"},r.default.createElement("i",{className:"ion-person-add"})," Sign up")]))),t,r.default.createElement("footer",null,r.default.createElement("div",{className:"container"},r.default.createElement(n.default,{to:"/",className:"logo-font"},"conduit"),r.default.createElement("span",{className:"attribution"},"An interactive learning project from ",r.default.createElement("a",{href:"https://thinkster.io"},"Thinkster"),". Code & design licensed under MIT."))))})},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(a(0)),l=a(12),n=s(a(1));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,l.withRouter)(function(e){var t=e.children,a=e.to,l=e.location;return r.default.createElement("li",{className:"nav-item"+(a===l.pathname?" active":""),key:a},r.default.createElement(n.default,{className:"nav-link",to:a},t))})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(a(0)),l=(s(a(2)),s(a(39))),n=s(a(1));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.user,a=e.comments,s=e.deleteComment;return a.map(function(e,a){return r.default.createElement("div",{className:"card",key:e.id},r.default.createElement("div",{className:"card-block"},r.default.createElement("p",{className:"card-text"},e.body)),r.default.createElement("div",{className:"card-footer"},r.default.createElement(n.default,{to:"/author/"+e.author.username,className:"comment-author"},r.default.createElement("img",{alt:"",src:e.author.image,className:"comment-author-img"}))," ",r.default.createElement(n.default,{to:"/author/"+e.author.username,className:"comment-author"},e.author.username),r.default.createElement("span",{className:"date-posted"},(0,l.default)(e.updatedAt).format("ddd MMM DD YYYY HH:mm")),e.author.username===(t&&t.username)?r.default.createElement("span",{className:"mod-options",tabIndex:-2-a,role:"button",onClick:function(){return s(e.id)},onKeyUp:function(t){return 46===t.keyCode?s(e.id):void 0}},r.default.createElement("i",{className:"ion-trash-a"})):null))})};u.propTypes={},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=N(a(22)),l=N(a(3)),n=N(a(15)),s=N(a(14)),u=N(a(10)),i=N(a(9)),o=N(a(13)),c=N(a(8)),d=N(a(7)),f=N(a(0)),p=a(4),m=N(a(2)),h=a(6),g=a(30),v=N(a(20)),E=N(a(17)),y=N(a(16)),b=N(a(1));function N(e){return e&&e.__esModule?e:{default:e}}var k=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=(0,s.default)(n.default.mark(function e(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("POP"!==this.props.history.action||!this.props.hydrated){e.next=3;break}return e.next=3,t.getInitialProps(this.props);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.articles.articlesCount,a=this.props.articles.pageLength,r=Number(this.props.match.params.page)||1;return f.default.createElement("div",{className:"home-page"},f.default.createElement("div",{className:"banner"},f.default.createElement("div",{className:"container"},f.default.createElement("h1",{className:"logo-font"},"conduit"),f.default.createElement("p",{className:"test"},"A place to share your knowledge."))),f.default.createElement("div",{className:"container page"},f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-md-9"},f.default.createElement("div",{className:"feed-toggle"},f.default.createElement("ul",{className:"nav nav-pills outline-active"},this.props.user&&this.props.user.id?f.default.createElement(E.default,{to:"/feed"},"Your Feed"):null,f.default.createElement(E.default,{to:"/"},"Global Feed"),"tag"===this.props.articles.filter?f.default.createElement(E.default,{to:"/tag/"+this.props.articles.value},"#",this.props.articles.value):null)),this.props.articles.articles.map(function(t){return f.default.createElement(v.default,(0,l.default)({},t,{user:e.props.user,key:t.slug}))}),f.default.createElement(y.default,{count:t,pageLength:a,page:r})),f.default.createElement("div",{className:"col-md-3"},f.default.createElement("div",{className:"sidebar"},f.default.createElement("p",null,"Popular Tags"),f.default.createElement("div",{className:"tag-list"},this.props.articles.tags.map(function(e){return f.default.createElement(b.default,{to:"/tag/"+e,className:"tag-pill tag-default",key:e},"#",e)})))))))}}],[{key:"getInitialProps",value:function(){var e=(0,s.default)(n.default.mark(function e(t){var a,l,s,u,i=t.req,o=t.store,c=t.dispatch,d=t.user,f=t.match;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],l=Number(f.params.page)||1,s=void 0,u=void 0,!i||d){e.next=7;break}return e.next=7,c((0,h.me)({req:i}));case 7:if("/feed"!==f.path.slice(0,5)){e.next=13;break}if(!i||o.getState().user.id){e.next=10;break}return e.abrupt("return",{redirectUrl:"/"});case 10:s="feed",e.next=14;break;case 13:f.params.tag?(s="tag",u=f.params.tag):s=void 0;case 14:return a.push(c((0,g.feed)({req:i,filter:s,value:u,page:l}))),a.push(c((0,g.tags)({req:i}))),e.abrupt("return",r.default.all(a));case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(f.default.PureComponent);k.propTypes={dispatch:m.default.func.isRequired,match:m.default.shape({url:m.default.string,params:m.default.object}).isRequired,history:m.default.shape().isRequired,hydrated:m.default.bool.isRequired,user:m.default.shape().isRequired,articles:m.default.shape({page:m.default.number,pageLength:m.default.number,articlesCount:m.default.number,articles:m.default.arrayOf(m.default.shape({slug:m.default.string})),tags:m.default.arrayOf(m.default.string),filter:m.default.string,value:m.default.string}).isRequired},t.default=(0,p.connect)(function(e){return{user:e.user,articles:e.articles,hydrated:e.hydrated}})(k)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(a(3)),l=i(a(0)),n=a(42),s=i(a(5)),u=i(a(21));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return l.default.createElement(u.default,null,l.default.createElement(n.Switch,null,s.default.map(function(e){return e.component=a(48)("./"+e.componentName),e.component.default&&(e.component=e.component.default),l.default.createElement(n.Route,(0,r.default)({key:e.path},e))})))}},,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=E(a(45)),l=E(a(3)),n=E(a(10)),s=E(a(15)),u=E(a(22)),i=E(a(14)),o=E(a(9)),c=E(a(8)),d=E(a(13)),f=E(a(7)),p=E(a(0)),m=E(a(2)),h=a(4),g=a(6),v=E(a(19));function E(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){(0,o.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.handleSubmit=a.handleSubmit.bind(a),a.handleChange=a.handleChange.bind(a),a.state=(0,l.default)({},a.props.user,{image:a.props.user.image||"",bio:a.props.user.bio||"",password:""}),a}return(0,f.default)(t,e),(0,d.default)(t,null,[{key:"getInitialProps",value:function(){var e=(0,i.default)(s.default.mark(function e(t){var a,r=t.req,l=t.dispatch,n=t.user;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],r&&!n&&a.unshift(l((0,g.me)({req:r}))),e.next=4,u.default.all(a);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),(0,d.default)(t,[{key:"componentWillMount",value:function(){var e=(0,i.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("POP"!==this.props.history.action||!this.props.hydrated){e.next=3;break}return e.next=3,t.getInitialProps(this.props);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=(0,i.default)(s.default.mark(function e(t){var a,r,l,n,u,i;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!this.props.user||!this.props.user.transition){e.next=3;break}return e.abrupt("return");case 3:return a=this.state,r=a.bio,l=a.email,n=a.image,u=a.username,i=a.password,e.next=6,this.props.dispatch((0,g.save)({bio:r,email:l,image:n,username:u,password:i}));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState((0,l.default)({},this.state,(0,r.default)({},e.target.name,e.target.value)))}},{key:"render",value:function(){var e=this;return p.default.createElement("div",{className:"settings-page"},p.default.createElement("div",{className:"container page"},p.default.createElement("div",{className:"row"},p.default.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},p.default.createElement("h1",{className:"text-xs-center"},"Your Settings"),p.default.createElement(v.default,{error:this.props.user.error}),p.default.createElement("form",{onSubmit:this.handleSubmit},p.default.createElement("fieldset",null,p.default.createElement("fieldset",{className:"form-group"},p.default.createElement("input",{className:"form-control",type:"text",placeholder:"URL of profile picture",name:"image",onChange:this.handleChange,autoComplete:"off",value:this.state.image})),p.default.createElement("fieldset",{className:"form-group"},p.default.createElement("input",{className:"form-control form-control-lg",type:"text",placeholder:"Your Name",name:"username",onChange:this.handleChange,autoComplete:"off",value:this.state.username})),p.default.createElement("fieldset",{className:"form-group"},p.default.createElement("textarea",{className:"form-control form-control-lg",rows:"8",placeholder:"Short bio about you",name:"bio",onChange:this.handleChange,autoComplete:"off",value:this.state.bio})),p.default.createElement("fieldset",{className:"form-group"},p.default.createElement("input",{className:"form-control form-control-lg",type:"text",placeholder:"Email",name:"email",onChange:this.handleChange,autoComplete:"off",value:this.state.email})),p.default.createElement("fieldset",{className:"form-group"},p.default.createElement("input",{ref:function(t){e.passwordInput=t},className:"form-control form-control-lg",type:"password",placeholder:"Password",name:"password",onChange:this.handleChange,autoComplete:"off",value:this.state.password})),p.default.createElement("button",{className:"btn btn-lg btn-primary pull-xs-right",type:"submit"},"Update Settings")))))))}}]),t}(p.default.PureComponent);y.propTypes={dispatch:m.default.func.isRequired,hydrated:m.default.bool.isRequired,history:m.default.shape().isRequired,user:m.default.shape().isRequired},t.default=(0,h.connect)(function(e){return{user:e.user,hydrated:e.hydrated}})(y)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=k(a(3)),l=k(a(10)),n=k(a(15)),s=k(a(22)),u=k(a(14)),i=k(a(9)),o=k(a(8)),c=k(a(13)),d=k(a(7)),f=k(a(0)),p=a(4),m=k(a(2)),h=a(6),g=a(44),v=a(30),E=k(a(20)),y=k(a(17)),b=k(a(16)),N=k(a(18));function k(e){return e&&e.__esModule?e:{default:e}}var w=function(e){function t(){var e;(0,i.default)(this,t);for(var a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];var s=(0,o.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(r)));return s.follow=s.follow.bind(s),s}return(0,d.default)(t,e),(0,c.default)(t,null,[{key:"getInitialProps",value:function(){var e=(0,u.default)(n.default.mark(function e(t){var a,r,l,u,i=t.req,o=t.dispatch,c=t.user,d=t.match,f=t.profile;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],r=Number(d.params.page)||1,l=d.params.author,u=d.params[0],i&&!c&&a.unshift(o((0,h.me)({req:i}))),f&&f.username===l||a.push(o((0,g.getProfile)({req:i,author:l}))),a.push(o((0,v.feed)({req:i,filter:u,value:l,page:r}))),e.next=9,s.default.all(a);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),(0,c.default)(t,[{key:"componentDidMount",value:function(){"POP"!==this.props.history.action&&"PUSH"!==this.props.history.action||!this.props.hydrated||t.getInitialProps(this.props)}},{key:"follow",value:function(){var e=(0,u.default)(n.default.mark(function e(t){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.persist(),e.next=3,this.props.dispatch((0,g.follow)({author:this.props.profile.username,method:this.props.profile.following?"delete":"post"}));case 3:t.target.blur();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.articles.articlesCount,a=this.props.articles.pageLength,l=Number(this.props.match.params.page)||1,n=this.props.match.params.author;return f.default.createElement("div",{className:"profile-page"},f.default.createElement("div",{className:"user-info"},f.default.createElement("div",{className:"container"},f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-xs-12 col-md-10 offset-md-1"},f.default.createElement("img",{alt:"",src:this.props.profile.image,className:"user-img"}),f.default.createElement("h4",null,this.props.profile.username),f.default.createElement("p",null,this.props.profile.bio),f.default.createElement(N.default,{user:this.props.user,profile:this.props.profile,onClick:this.follow}))))),f.default.createElement("div",{className:"container"},f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-xs-12 col-md-10 offset-md-1"},f.default.createElement("div",{className:"articles-toggle"},f.default.createElement("ul",{className:"nav nav-pills outline-active"},f.default.createElement(y.default,{to:"/author/"+this.props.profile.username},"My Articles"),f.default.createElement(y.default,{to:"/favorited/"+this.props.profile.username},"Favorited Articles"))),this.props.articles.articles.map(function(t){return f.default.createElement(E.default,(0,r.default)({},t,{user:e.props.user,key:t.slug}))}),f.default.createElement(b.default,{count:t,pageLength:a,page:l,author:n})))))}}]),t}(f.default.PureComponent);w.propTypes={dispatch:m.default.func.isRequired,match:m.default.shape({url:m.default.string,params:m.default.object}).isRequired,history:m.default.shape().isRequired,hydrated:m.default.bool.isRequired,user:m.default.shape().isRequired,profile:m.default.shape({username:m.default.string,image:m.default.string,bio:m.default.string,following:m.default.bool}).isRequired,articles:m.default.shape({page:m.default.number,pageLength:m.default.number,articlesCount:m.default.number,articles:m.default.arrayOf(m.default.shape({slug:m.default.string}))}).isRequired},t.default=(0,p.connect)(function(e){return{user:e.user,articles:e.articles,profile:e.profile,hydrated:e.hydrated}})(w)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=E(a(10)),l=E(a(15)),n=E(a(14)),s=E(a(9)),u=E(a(8)),i=E(a(13)),o=E(a(7)),c=E(a(0)),d=a(4),f=a(12),p=E(a(2)),m=E(a(5)),h=a(41),g=a(6),v=E(a(19));function E(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){(0,s.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.handleSubmit=a.handleSubmit.bind(a),a}return(0,o.default)(t,e),(0,i.default)(t,null,[{key:"getInitialProps",value:function(){var e=(0,n.default)(l.default.mark(function e(t){var a=t.req,r=t.res,n=t.dispatch,s=t.match;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("sign-out"!==s.params[0]){e.next=7;break}if(!a){e.next=5;break}r.cookie("token","",{signed:!1}),e.next=7;break;case 5:return e.next=7,n((0,g.logout)());case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=(0,n.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.dispatch((0,g.clearErrors)()),"POP"!==this.props.history.action){e.next=4;break}return e.next=4,t.getInitialProps(this.props);case 4:"sign-out"===this.props.match.params[0]&&this.props.history.replace("/sign-in");case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=(0,n.default)(l.default.mark(function e(t){var r,n,s,u=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!this.props.user||!this.props.user.transition){e.next=3;break}return e.abrupt("return");case 3:if(!this.isSignUp()){e.next=8;break}return e.next=6,this.props.dispatch((0,g.signup)({username:this.usernameInput.value,email:this.emailInput.value,password:this.passwordInput.value}));case 6:e.next=10;break;case 8:return e.next=10,this.props.dispatch((0,g.login)({email:this.emailInput.value,password:this.passwordInput.value}));case 10:if(this.props.user&&this.props.user.id){e.next=12;break}return e.abrupt("return");case 12:this.passwordInput.value="",r=m.default.find(function(e){return(0,f.matchPath)("/feed",e)?e:null}),n=(0,f.matchPath)("/feed",r),s=(0,h.getStore)(),Promise.all([a.e(0),a.e(1)]).then(function(){var e=a(26);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})}).then(function(e){return e.default||e}).then(function(e){return e.getInitialProps({match:n,store:s,dispatch:s.dispatch})}).then(function(){return u.props.history.push("/feed")});case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"isSignUp",value:function(){return this.props.match&&this.props.match.params&&"sign-up"===this.props.match.params[0]}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:"auth-page"},c.default.createElement("div",{className:"container page"},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},c.default.createElement("h1",{className:"text-xs-center"},this.isSignUp()?"Sign up":"Sign in"),c.default.createElement("p",{className:"text-xs-center"},this.isSignUp()?c.default.createElement(f.Link,{to:"/sign-in"},"Have an account?"):c.default.createElement(f.Link,{to:"/sign-up"},"Need an account?")),c.default.createElement(v.default,{error:this.props.user.error}),c.default.createElement("form",{onSubmit:this.handleSubmit},this.isSignUp()?c.default.createElement("fieldset",{className:"form-group"},c.default.createElement("input",{ref:function(t){e.usernameInput=t},className:"form-control form-control-lg",type:"text",placeholder:"Your Name",autoComplete:"off"})):null,c.default.createElement("fieldset",{className:"form-group"},c.default.createElement("input",{ref:function(t){e.emailInput=t},className:"form-control form-control-lg",type:"text",placeholder:"Email",autoComplete:"off"})),c.default.createElement("fieldset",{className:"form-group"},c.default.createElement("input",{ref:function(t){e.passwordInput=t},className:"form-control form-control-lg",type:"password",placeholder:"Password",autoComplete:"off"})),c.default.createElement("button",{className:"btn btn-lg btn-primary pull-xs-right"},this.isSignUp()?"Sign up":"Sign in"))))))}}]),t}(c.default.PureComponent);y.propTypes={dispatch:p.default.func.isRequired,user:p.default.shape({id:p.default.number,username:p.default.string,error:p.default.object,transition:p.default.bool}).isRequired,match:p.default.shape({params:p.default.object}).isRequired,history:p.default.shape({push:p.default.func,replace:p.default.func}).isRequired},t.default=(0,d.connect)(function(e){return{user:e.user,hydrated:e.hydrated}})(y)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=E(a(45)),l=E(a(3)),n=E(a(10)),s=E(a(15)),u=E(a(22)),i=E(a(14)),o=E(a(9)),c=E(a(8)),d=E(a(13)),f=E(a(7)),p=E(a(0)),m=a(4),h=E(a(2)),g=a(6),v=a(40);function E(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){var e;(0,o.default)(this,t);for(var a=arguments.length,r=Array(a),s=0;s<a;s++)r[s]=arguments[s];var u=(0,c.default)(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(r)));return u.handleChange=u.handleChange.bind(u),u.handleSubmit=u.handleSubmit.bind(u),u.props.match.params.slug?(u.state=(0,l.default)({title:"",description:"",body:"",tagList:""},u.props.article.article),u.props.article.article&&(u.state.tagList=u.props.article.article.tagList.join(", "))):u.state={title:"",description:"",body:"",tagList:""},u}return(0,f.default)(t,e),(0,d.default)(t,null,[{key:"getInitialProps",value:function(){var e=(0,i.default)(s.default.mark(function e(t){var a,r,l=t.req,n=t.dispatch,i=t.user,o=t.match;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],l&&!i&&a.unshift(n((0,g.me)({req:l}))),(r=o.params.slug)&&a.push(n((0,v.article)({req:l,slug:r}))),e.next=6,u.default.all(a);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=(0,i.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("POP"!==this.props.history.action||!this.props.hydrated){e.next=3;break}return e.next=3,t.getInitialProps(this.props);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState((0,l.default)({},this.state,(0,r.default)({},e.target.name,e.target.value)))}},{key:"handleSubmit",value:function(){var e=(0,i.default)(s.default.mark(function e(t){var a,r,n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!this.props.article.transition){e.next=3;break}return e.abrupt("return");case 3:return a=(0,l.default)({},this.state),r=this.props.match.params.slug,e.next=7,this.props.dispatch((0,v.saveArticle)((0,l.default)({},a,{slug:r,tagList:a.tagList.split(/\s*,\s*/)})));case 7:if(this.props.article.error){e.next=13;break}return r=this.props.article.article.slug,n=[this.props.dispatch((0,v.article)({slug:r})),this.props.dispatch((0,v.comments)({slug:r}))],e.next=12,u.default.all(n);case 12:this.props.article.error||this.props.history.push("/"+r);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return p.default.createElement("div",{className:"editor-page"},p.default.createElement("div",{className:"container page"},p.default.createElement("div",{className:"row"},p.default.createElement("div",{className:"col-md-10 offset-md-1 col-xs-12"},p.default.createElement("form",{onSubmit:this.handleSubmit},p.default.createElement("fieldset",null,p.default.createElement("fieldset",{className:"form-group"},p.default.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Article Title",name:"title",onChange:this.handleChange,value:this.state.title})),p.default.createElement("fieldset",{className:"form-group"},p.default.createElement("input",{type:"text",className:"form-control",placeholder:"What's this article about?",name:"description",onChange:this.handleChange,value:this.state.description})),p.default.createElement("fieldset",{className:"form-group"},p.default.createElement("textarea",{className:"form-control",rows:"8",placeholder:"Write your article (in markdown)",name:"body",onChange:this.handleChange,value:this.state.body})),p.default.createElement("fieldset",{className:"form-group"},p.default.createElement("input",{type:"text",className:"form-control",placeholder:"Enter tags",name:"tagList",onChange:this.handleChange,value:this.state.tagList}),p.default.createElement("div",{className:"tag-list"})),p.default.createElement("button",{className:"btn btn-lg pull-xs-right btn-primary",type:"submit",onClick:this.handleSubmit},"Publish Article")))))))}}]),t}(p.default.PureComponent);y.propTypes={dispatch:h.default.func.isRequired,hydrated:h.default.bool.isRequired,match:h.default.shape().isRequired,article:h.default.shape().isRequired,history:h.default.shape().isRequired},t.default=(0,m.connect)(function(e){return{user:e.user,hydrated:e.hydrated,article:e.article}})(y)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=k(a(10)),l=k(a(15)),n=k(a(22)),s=k(a(14)),u=k(a(9)),i=k(a(8)),o=k(a(13)),c=k(a(7)),d=k(a(0)),f=a(4),p=k(a(2)),m=k(a(53)),h=k(a(39)),g=a(6),v=a(40),E=k(a(1)),y=k(a(18)),b=k(a(11)),N=k(a(25));function k(e){return e&&e.__esModule?e:{default:e}}var w=function(e){function t(){var e;(0,u.default)(this,t);for(var a=arguments.length,l=Array(a),n=0;n<a;n++)l[n]=arguments[n];var s=(0,i.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l)));return s.follow=s.follow.bind(s),s.favorite=s.favorite.bind(s),s.deleteArticle=s.deleteArticle.bind(s),s.addComment=s.addComment.bind(s),s.deleteComment=s.deleteComment.bind(s),s}return(0,c.default)(t,e),(0,o.default)(t,null,[{key:"getInitialProps",value:function(){var e=(0,s.default)(l.default.mark(function e(t){var a,r=t.req,s=t.dispatch,u=t.match,i=t.user;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[s((0,v.article)({req:r,slug:u.params[0]})),s((0,v.comments)({req:r,slug:u.params[0]}))],r&&!i&&a.unshift(s((0,g.me)({req:r}))),e.next=4,n.default.all(a);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=(0,s.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("POP"!==this.props.history.action||!this.props.hydrated){e.next=3;break}return e.next=3,t.getInitialProps(this.props);case 3:this.commentBody="";case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"deleteArticle",value:function(){var e=(0,s.default)(l.default.mark(function e(t){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.props.dispatch((0,v.deleteArticle)({slug:this.props.article.article.slug}));case 3:this.props.article.error||this.props.history.push("/author/"+this.props.user.username);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addComment",value:function(e){e.preventDefault();var t=this.commentInput.value;t&&t!==this.commentBody&&(this.commentBody=t,this.props.dispatch((0,v.addComment)({slug:this.props.article.article.slug,body:t})))}},{key:"deleteComment",value:function(){var e=(0,s.default)(l.default.mark(function e(t){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.props.dispatch((0,v.deleteComment)({id:t,slug:this.props.article.article.slug}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"follow",value:function(){var e=(0,s.default)(l.default.mark(function e(t){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.persist(),e.next=3,this.props.dispatch((0,v.follow)({author:this.props.article.article.author.username,method:this.props.article.article.author.following?"delete":"post"}));case 3:t.target.blur();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"favorite",value:function(){var e=(0,s.default)(l.default.mark(function e(t){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.persist(),e.next=3,this.props.dispatch((0,v.favorite)({slug:this.props.article.article.slug,method:this.props.article.article.favorited?"delete":"post"}));case 3:t.target.blur();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.default.createElement("div",{className:"article-page"},d.default.createElement("div",{className:"banner"},d.default.createElement("div",{className:"container"},d.default.createElement("h1",null,this.props.article.article.title),d.default.createElement("div",{className:"article-meta"},d.default.createElement(E.default,{to:"/author/"+this.props.article.article.author.username},d.default.createElement("img",{alt:"",src:this.props.article.article.author.image})),d.default.createElement("div",{className:"info"},d.default.createElement(E.default,{to:"/author/"+this.props.article.article.author.username,className:"author"},this.props.article.article.author.username),d.default.createElement("span",{className:"date"},(0,h.default)(this.props.article.article.updatedAt).format("ddd MMM DD YYYY"))),this.props.article.article.author.username===this.props.user.username?[d.default.createElement(E.default,{className:"btn btn-sm btn-outline-secondary",to:"/edit/"+this.props.article.article.slug,key:"edit"},d.default.createElement("i",{className:"ion-edit"}),"  Edit ",d.default.createElement("span",{className:"counter"})),d.default.createElement("span",{key:"spase"},"  "),d.default.createElement("a",{className:"btn btn-sm btn-outline-danger",onClick:this.deleteArticle,role:"button",onKeyUp:function(t){return 46===t.keyCode?e.deleteArticle():void 0},tabIndex:-1,key:"delete"},d.default.createElement("i",{className:"ion-trash-a"}),"  Delete ",d.default.createElement("span",{className:"counter"}))]:null,d.default.createElement(y.default,{profile:this.props.article.article.author,user:this.props.user,onClick:this.follow}),"  ",d.default.createElement(b.default,{user:this.props.user,article:this.props.article.article,onClick:this.favorite})))),d.default.createElement("div",{className:"container page"},d.default.createElement("div",{className:"row article-content"},d.default.createElement("div",{className:"col-md-12"},d.default.createElement(m.default,null,this.props.article.article.body))),d.default.createElement("ul",{className:"tag-list"},this.props.article.article.tagList.map(function(e){return d.default.createElement("li",{className:"tag-default tag-pill tag-outline",key:e},d.default.createElement(E.default,{to:"/tag/"+e},"#",e))})),d.default.createElement("hr",null),d.default.createElement("div",{className:"article-actions"},d.default.createElement("div",{className:"article-meta"},d.default.createElement(E.default,{to:"/author/"+this.props.article.article.author.username},d.default.createElement("img",{alt:"",src:this.props.article.article.author.image})),d.default.createElement("div",{className:"info"},d.default.createElement(E.default,{to:"/author/"+this.props.article.article.author.username,className:"author"},this.props.article.article.author.username),d.default.createElement("span",{className:"date"},(0,h.default)(this.props.article.article.updatedAt).format("ddd MMM DD YYYY"))),d.default.createElement(y.default,{profile:this.props.article.article.author,user:this.props.user,onClick:this.follow})," ",d.default.createElement(b.default,{user:this.props.user,article:this.props.article.article,onClick:this.favorite}))),d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-xs-12 col-md-8 offset-md-2"},this.props.user&&this.props.user.id?d.default.createElement("form",{className:"card comment-form",onSubmit:this.addComment},d.default.createElement("div",{className:"card-block"},d.default.createElement("textarea",{className:"form-control",placeholder:"Write a comment...",rows:"3",ref:function(t){e.commentInput=t}})),d.default.createElement("div",{className:"card-footer"},d.default.createElement("img",{alt:"",src:this.props.user.image,className:"comment-author-img"})," ",d.default.createElement(E.default,{to:"/author/"+this.props.user.username},this.props.user.username),d.default.createElement("button",{className:"btn btn-sm btn-primary"},"Post Comment"))):null,d.default.createElement(N.default,{comments:this.props.article.comments,user:this.props.user,deleteComment:this.deleteComment})))))}}]),t}(d.default.PureComponent);w.propTypes={dispatch:p.default.func.isRequired,history:p.default.shape().isRequired,user:p.default.shape().isRequired,article:p.default.shape().isRequired,hydrated:p.default.bool.isRequired},t.default=(0,f.connect)(function(e){return{user:e.user,article:e.article,hydrated:e.hydrated}})(w)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,l=a(0),n=(r=l)&&r.__esModule?r:{default:r};t.default=function(){return n.default.createElement("div",null,"Page not found")}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(a(3)),l=o(a(0)),n=a(42),s=o(a(5)),u=o(a(54)),i=o(a(21));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return l.default.createElement(i.default,null,l.default.createElement(n.Switch,null,s.default.map(function(e){return e.component=(0,u.default)({loader:function(){return a(46)("./"+e.componentName)},loading:function(){return null},delay:0,timeout:1e4}),l.default.createElement(n.Route,(0,r.default)({key:e.path},e))})))}},,,,,,,,,,function(e,t,a){var r={"./asyncLink":1,"./asyncLink.js":1,"./clientRouter":38,"./clientRouter.js":38,"./components/articlePreview":20,"./components/articlePreview.js":20,"./components/comments":25,"./components/comments.js":25,"./components/errorsList":19,"./components/errorsList.js":19,"./components/favorited":11,"./components/favorited.js":11,"./components/following":18,"./components/following.js":18,"./components/layout":21,"./components/layout.js":21,"./components/menuItem":24,"./components/menuItem.js":24,"./components/navItem":17,"./components/navItem.js":17,"./components/notFound":37,"./components/notFound.js":37,"./components/pagination":16,"./components/pagination.js":16,"./pages/article":36,"./pages/article.js":36,"./pages/editor":35,"./pages/editor.js":35,"./pages/home":26,"./pages/home.js":26,"./pages/login":34,"./pages/login.js":34,"./pages/profile":33,"./pages/profile.js":33,"./pages/settings":32,"./pages/settings.js":32,"./routes":5,"./routes.js":5,"./serverRouter":27,"./serverRouter.js":27};function l(e){var t=n(e);return a(t)}function n(e){var t=r[e];if(!(t+1)){var a=new Error('Cannot find module "'+e+'".');throw a.code="MODULE_NOT_FOUND",a}return t}l.keys=function(){return Object.keys(r)},l.resolve=n,e.exports=l,l.id=48}];