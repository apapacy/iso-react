exports.ids=[6],exports.modules={28:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseError=function(e){var t=void 0,r=void 0;e&&e.response&&e.response.data&&e.response.data.errors instanceof Object&&(t=e.response.data.errors);e&&(r=e.message);return{errors:t,message:r}}},29:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setJWT=function(e){o=e},t.request=function(e,t){var r=t.url,a=t.method,n=t.params,l=t.data,s={};e&&e.signedCookies.token?s.Authorization="Token "+e.signedCookies.token:o&&(s.Authorization="Token "+o);return u.request({url:r,method:a,params:n,data:l,headers:s})};var a,n=r(43);var u=((a=n)&&a.__esModule?a:{default:a}).default.create({baseURL:"https://conduit.productionready.io/api",withCredentials:!0}),o=void 0;"undefined"!=typeof window&&(o=window.__GWT__)},35:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=_(r(45)),n=_(r(3)),u=_(r(10)),o=_(r(15)),l=_(r(22)),s=_(r(14)),i=_(r(9)),d=_(r(8)),f=_(r(13)),c=_(r(7)),p=_(r(0)),E=r(4),m=_(r(2)),h=r(6),y=r(40);function _(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){var e;(0,i.default)(this,t);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];var l=(0,d.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(a)));return l.handleChange=l.handleChange.bind(l),l.handleSubmit=l.handleSubmit.bind(l),l.props.match.params.slug?(l.state=(0,n.default)({title:"",description:"",body:"",tagList:""},l.props.article.article),l.props.article.article&&(l.state.tagList=l.props.article.article.tagList.join(", "))):l.state={title:"",description:"",body:"",tagList:""},l}return(0,c.default)(t,e),(0,f.default)(t,null,[{key:"getInitialProps",value:function(){var e=(0,s.default)(o.default.mark(function e(t){var r,a,n=t.req,u=t.dispatch,s=t.user,i=t.match;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],n&&!s&&r.unshift(u((0,h.me)({req:n}))),(a=i.params.slug)&&r.push(u((0,y.article)({req:n,slug:a}))),e.next=6,l.default.all(r);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=(0,s.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("POP"!==this.props.history.action||!this.props.hydrated){e.next=3;break}return e.next=3,t.getInitialProps(this.props);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState((0,n.default)({},this.state,(0,a.default)({},e.target.name,e.target.value)))}},{key:"handleSubmit",value:function(){var e=(0,s.default)(o.default.mark(function e(t){var r,a,u;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!this.props.article.transition){e.next=3;break}return e.abrupt("return");case 3:return r=(0,n.default)({},this.state),a=this.props.match.params.slug,e.next=7,this.props.dispatch((0,y.saveArticle)((0,n.default)({},r,{slug:a,tagList:r.tagList.split(/\s*,\s*/)})));case 7:if(this.props.article.error){e.next=13;break}return a=this.props.article.article.slug,u=[this.props.dispatch((0,y.article)({slug:a})),this.props.dispatch((0,y.comments)({slug:a}))],e.next=12,l.default.all(u);case 12:this.props.article.error||this.props.history.push("/"+a);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return p.default.createElement("div",{className:"editor-page"},p.default.createElement("div",{className:"container page"},p.default.createElement("div",{className:"row"},p.default.createElement("div",{className:"col-md-10 offset-md-1 col-xs-12"},p.default.createElement("form",{onSubmit:this.handleSubmit},p.default.createElement("fieldset",null,p.default.createElement("fieldset",{className:"form-group"},p.default.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Article Title",name:"title",onChange:this.handleChange,value:this.state.title})),p.default.createElement("fieldset",{className:"form-group"},p.default.createElement("input",{type:"text",className:"form-control",placeholder:"What's this article about?",name:"description",onChange:this.handleChange,value:this.state.description})),p.default.createElement("fieldset",{className:"form-group"},p.default.createElement("textarea",{className:"form-control",rows:"8",placeholder:"Write your article (in markdown)",name:"body",onChange:this.handleChange,value:this.state.body})),p.default.createElement("fieldset",{className:"form-group"},p.default.createElement("input",{type:"text",className:"form-control",placeholder:"Enter tags",name:"tagList",onChange:this.handleChange,value:this.state.tagList}),p.default.createElement("div",{className:"tag-list"})),p.default.createElement("button",{className:"btn btn-lg pull-xs-right btn-primary",type:"submit",onClick:this.handleSubmit},"Publish Article")))))))}}]),t}(p.default.PureComponent);v.propTypes={dispatch:m.default.func.isRequired,hydrated:m.default.bool.isRequired,match:m.default.shape().isRequired,article:m.default.shape().isRequired,history:m.default.shape().isRequired},t.default=(0,E.connect)(function(e){return{user:e.user,hydrated:e.hydrated,article:e.article}})(v)},40:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(r(3)),n=s(r(31)),u=s(r(23));t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments[1],r=void 0;switch(t.type){case d:var u=e;return u.error,r=(0,n.default)(u,["error"]),(0,a.default)({},r,{article:t.payload.article});case f:return(0,a.default)({},e,{error:t.error});case c:var o=e;return o.error,r=(0,n.default)(o,["error"]),(0,a.default)({},r,{transition:!0});case p:var l=e;return l.error,r=(0,n.default)(l,["error"]),(0,a.default)({},r,{article:t.payload.article,transition:!1});case E:return(0,a.default)({},e,{error:t.error,transition:!1});case h:var s=e;return s.error,r=(0,n.default)(s,["error"]);case y:return(0,a.default)({},e,{error:t.error});case v:var i=e;return i.error,r=(0,n.default)(i,["error"]),(0,a.default)({},r,{comments:t.payload.comments});case S:return(0,a.default)({},e,{error:t.error});case I:var m=e;return m.error,(r=(0,n.default)(m,["error"])).comments.unshift(t.payload.comment),r;case O:return(0,a.default)({},e,{error:t.error});case k:var _=e;_.error;var R=(r=(0,n.default)(_,["error"])).comments.filter(function(e){return e.id!==t.payload.id});return(0,a.default)({},r,{comments:R});case N:return(0,a.default)({},e,{error:t.error});case C:var T=e;return T.error,r=(0,n.default)(T,["error"]),(0,a.default)({},r,{article:(0,a.default)({},r.article,{author:t.payload.profile})});case L:var g=e;return g.error,r=(0,n.default)(g,["error"]),(0,a.default)({},r,{article:t.payload.article});case M:var U=e;return U.error,r=(0,n.default)(U,["error"]);default:return e}},t.article=function(e){var t=e.req,r=e.slug;return function(e){return e({type:i}),(0,o.request)(t,{method:"get",url:"/articles/"+r}).then(function(t){return e({type:d,payload:t.data})},function(t){return e({type:f,error:(0,l.parseError)(t)})})}},t.saveArticle=function(e){var t=e.slug,r={article:e};return function(e){return e({type:c}),(0,o.request)(void 0,{method:t?"put":"post",url:t?"/articles/"+t:"/articles",data:r}).then(function(t){return e({type:p,payload:t.data})},function(t){return e({type:E,error:(0,l.parseError)(t)})})}},t.deleteArticle=function(e){var t=e.slug;return function(e){return e({type:m}),(0,o.request)(void 0,{method:"delete",url:"/articles/"+t}).then(function(){return e({type:h})},function(t){return e({type:y,error:(0,l.parseError)(t)})})}},t.comments=function(e){var t=e.req,r=e.slug;return function(e){return e({type:_}),(0,o.request)(t,{method:"get",url:"/articles/"+r+"/comments"}).then(function(t){return e({type:v,payload:t.data})},function(t){return e({type:S,error:(0,l.parseError)(t)})})}},t.addComment=function(e){var t=e.slug,r=e.body;return function(e){return e({type:A}),(0,o.request)(void 0,{method:"post",url:"/articles/"+t+"/comments",data:{comment:{body:r}}}).then(function(t){return e({type:I,payload:t.data})},function(t){return e({type:O,error:(0,l.parseError)(t)})})}},t.deleteComment=function(e){var t=e.slug,r=e.id;return function(e){return e({type:b}),(0,o.request)(void 0,{method:"delete",url:"/articles/"+t+"/comments/"+r}).then(function(){return e({type:k,payload:{id:r}})},function(t){return e({type:N,error:(0,l.parseError)(t)})})}},t.follow=function(e){var t=e.author,r=e.method;if("post"!==r&&"delete"!==r)return{type:T,error:{message:"Only post or delete methos alowed"}};return function(e){return e({type:R}),(0,o.request)(void 0,{method:r,url:"/profiles/"+t+"/follow"}).then(function(t){return e({type:C,payload:t.data})},function(t){return e({type:T,error:(0,l.parseError)(t)})})}},t.favorite=function(e){var t=e.slug,r=e.method;if("post"!==r&&"delete"!==r)return{type:U,error:{message:"usernameOnly post or delete methos alowed"}};return function(e){return e({type:g}),(0,o.request)(void 0,{method:r,url:"/articles/"+t+"/favorite"}).then(function(t){return e({type:L,payload:t.data})},function(t){return e({type:U,error:(0,l.parseError)(t)})})}},t.clearErrors=function(){return{type:M}};var o=r(29),l=r(28);function s(e){return e&&e.__esModule?e:{default:e}}var i=(0,u.default)("ARTICLE_REQUEST"),d=(0,u.default)("ARTICLE_SUCCESS"),f=(0,u.default)("ARTICLE_FAILURE"),c=(0,u.default)("ARTICLE_SAVE_REQUEST"),p=(0,u.default)("ARTICLE_SAVE_SUCCESS"),E=(0,u.default)("ARTICLE_SAVE_FAILURE"),m=(0,u.default)("ARTICLE_DELETE_REQUEST"),h=(0,u.default)("ARTICLE_DELETE_SUCCESS"),y=(0,u.default)("ARTICLE_DELETE_FAILURE"),_=(0,u.default)("ARTICLE_COMMENTS_REQUEST"),v=(0,u.default)("ARTICLE_COMMENTS_SUCCESS"),S=(0,u.default)("ARTICLE_COMMENTS_FAIULURE"),R=(0,u.default)("ARTICLE_FOLLOW_REQUEST"),C=(0,u.default)("ARTICLE_FOLLOW_SUCCESS"),T=(0,u.default)("ARTICLE_FOLLOW_FAILURE"),g=(0,u.default)("ARTICLE_FAVORITE_REQUEST"),L=(0,u.default)("ARTICLE_FAVORITE_SUCCESS"),U=(0,u.default)("ARTICLE_FAVORITE_FAIULURE"),A=(0,u.default)("ARTICLE_COMMENT_REQUEST"),I=(0,u.default)("ARTICLE_COMMENT_SUCCESS"),O=(0,u.default)("ARTICLE_COMMENT_FAIULURE"),b=(0,u.default)("ARTICLE_COMMENT_DELETE_REQUEST"),k=(0,u.default)("ARTICLE_COMMENT_DELETE_SUCCESS"),N=(0,u.default)("ARTICLE_COMMENT_DELETE_FAIULURE"),M=(0,u.default)("ARTICLE_CLEAR_ERRORS"),w={article:{author:{},tagList:[]},comments:[]}},6:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(31)),n=i(r(3)),u=i(r(23));t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments[1];switch(t.type){case f:return(0,n.default)({},t.payload.user);case c:return(0,n.default)({},U,{error:t.error});case E:return(0,n.default)({},t.payload.user);case m:return(0,n.default)({},U,{error:t.error});case y:return(0,n.default)({},U);case _:return(0,n.default)({},e,{error:t.error});case S:return(0,n.default)({},t.payload.user);case R:return(0,n.default)({},e,{error:t.error});case T:return(0,n.default)({},t.payload.user);case g:return(0,n.default)({},e,{error:t.error});case L:e.error;var r=(0,a.default)(e,["error"]);return r;default:return e}},t.signup=function(e){var t=e.username,r=e.email,a=e.password;return function(e){return e({type:d}),(0,l.request)(void 0,{method:"post",url:"/users",data:{user:{username:t,email:r,password:a}}}).then(function(t){(0,l.setJWT)(t.data.user.token),o.default.post("/api/token",{token:t.data.user.token}),e({type:f,payload:t.data})},function(t){(0,l.setJWT)(void 0),o.default.post("/api/token",{token:""}),e({type:c,error:(0,s.parseError)(t)})})}},t.login=function(e){var t=e.email,r=e.password;return function(e){return e({type:p}),(0,l.request)(void 0,{method:"post",url:"/users/login",data:{user:{email:t,password:r}}}).then(function(t){(0,l.setJWT)(t.data.user.token),o.default.post("/api/token",{token:t.data.user.token}),e({type:E,payload:t.data})},function(t){(0,l.setJWT)(void 0),o.default.post("/api/token",{token:""}),e({type:m,error:(0,s.parseError)(t)})})}},t.me=function(e){var t=e.req;return function(e){return e({type:v}),(0,l.request)(t,{method:"get",url:"/user"}).then(function(t){return e({type:S,payload:t.data})},function(t){return e({type:R,error:(0,s.parseError)(t)})})}},t.save=function(e){var t=e.bio,r=e.email,a=e.image,n=e.username,u=e.password;if(!r||!n)return{type:g,error:{message:"Empty username or email"}};var o={bio:t,email:r,image:a,username:n};u&&(o.password=u);return function(e){return e({type:C}),(0,l.request)(void 0,{method:"put",url:"/user",data:{user:o}}).then(function(t){return e({type:T,payload:t.data})},function(t){return e({type:g,error:(0,s.parseError)(t)})})}},t.logout=function(){return function(e){return e({type:h}),o.default.post("/api/token",{token:""}).then(function(){(0,l.setJWT)(void 0),e({type:y})},function(t){e({type:_,error:(0,s.parseError)(t)})})}},t.clearErrors=function(){return{type:L}};var o=i(r(43)),l=r(29),s=r(28);function i(e){return e&&e.__esModule?e:{default:e}}var d=(0,u.default)("USER_SIGNUP_REQUEST"),f=(0,u.default)("USER_SIGNUP_SUCCESS"),c=(0,u.default)("USER_SIGNUP_FAILURE"),p=(0,u.default)("USER_LOGIN_REQUEST"),E=(0,u.default)("USER_LOGIN_SUCCESS"),m=(0,u.default)("USER_LOGIN_FAILURE"),h=(0,u.default)("USER_LOGOUT_REQUEST"),y=(0,u.default)("USER_LOGOUT_SUCCESS"),_=(0,u.default)("USER_LOGOUT_FAILURE"),v=(0,u.default)("USER_REQUEST"),S=(0,u.default)("USER_SUCCESS"),R=(0,u.default)("USER_FAILURE"),C=(0,u.default)("USER_SAVE_REQUEST"),T=(0,u.default)("USER_SAVE_SUCCESS"),g=(0,u.default)("USER_SAVE_FAILURE"),L=(0,u.default)("USER_CLEAR_ERRORS"),U={}}};