exports.ids=[3,15],exports.modules={19:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(r(50)),n=u(r(0));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return e.error&&e.error.errors?n.default.createElement("ul",{className:"error-messages"},(0,a.default)(e.error.errors).map(function(t){return e.error.errors[t].map(function(e){return n.default.createElement("li",{key:"field:"+t+",message:"+e},t," ",e)})})):e.error&&e.error.message?n.default.createElement("ul",{className:"error-messages"},n.default.createElement("li",null,e.error.message)):null}},28:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseError=function(e){var t=void 0,r=void 0;e&&e.response&&e.response.data&&e.response.data.errors instanceof Object&&(t=e.response.data.errors);e&&(r=e.message);return{errors:t,message:r}}},29:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setJWT=function(e){o=e},t.request=function(e,t){var r=t.url,a=t.method,n=t.params,s=t.data,l={};e&&e.signedCookies.token?l.Authorization="Token "+e.signedCookies.token:o&&(l.Authorization="Token "+o);return u.request({url:r,method:a,params:n,data:s,headers:l})};var a,n=r(43);var u=((a=n)&&a.__esModule?a:{default:a}).default.create({baseURL:"https://conduit.productionready.io/api",withCredentials:!0}),o=void 0;"undefined"!=typeof window&&(o=window.__GWT__)},32:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=g(r(45)),n=g(r(3)),u=g(r(10)),o=g(r(15)),s=g(r(22)),l=g(r(14)),d=g(r(9)),i=g(r(8)),f=g(r(13)),c=g(r(7)),p=g(r(0)),m=g(r(2)),h=r(4),E=r(6),v=g(r(19));function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){(0,d.default)(this,t);var r=(0,i.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return r.handleSubmit=r.handleSubmit.bind(r),r.handleChange=r.handleChange.bind(r),r.state=(0,n.default)({},r.props.user,{image:r.props.user.image||"",bio:r.props.user.bio||"",password:""}),r}return(0,c.default)(t,e),(0,f.default)(t,null,[{key:"getInitialProps",value:function(){var e=(0,l.default)(o.default.mark(function e(t){var r,a=t.req,n=t.dispatch,u=t.user;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],a&&!u&&r.unshift(n((0,E.me)({req:a}))),e.next=4,s.default.all(r);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),(0,f.default)(t,[{key:"componentWillMount",value:function(){var e=(0,l.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("POP"!==this.props.history.action||!this.props.hydrated){e.next=3;break}return e.next=3,t.getInitialProps(this.props);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=(0,l.default)(o.default.mark(function e(t){var r,a,n,u,s,l;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!this.props.user||!this.props.user.transition){e.next=3;break}return e.abrupt("return");case 3:return r=this.state,a=r.bio,n=r.email,u=r.image,s=r.username,l=r.password,e.next=6,this.props.dispatch((0,E.save)({bio:a,email:n,image:u,username:s,password:l}));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState((0,n.default)({},this.state,(0,a.default)({},e.target.name,e.target.value)))}},{key:"render",value:function(){var e=this;return p.default.createElement("div",{className:"settings-page"},p.default.createElement("div",{className:"container page"},p.default.createElement("div",{className:"row"},p.default.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},p.default.createElement("h1",{className:"text-xs-center"},"Your Settings"),p.default.createElement(v.default,{error:this.props.user.error}),p.default.createElement("form",{onSubmit:this.handleSubmit},p.default.createElement("fieldset",null,p.default.createElement("fieldset",{className:"form-group"},p.default.createElement("input",{className:"form-control",type:"text",placeholder:"URL of profile picture",name:"image",onChange:this.handleChange,autoComplete:"off",value:this.state.image})),p.default.createElement("fieldset",{className:"form-group"},p.default.createElement("input",{className:"form-control form-control-lg",type:"text",placeholder:"Your Name",name:"username",onChange:this.handleChange,autoComplete:"off",value:this.state.username})),p.default.createElement("fieldset",{className:"form-group"},p.default.createElement("textarea",{className:"form-control form-control-lg",rows:"8",placeholder:"Short bio about you",name:"bio",onChange:this.handleChange,autoComplete:"off",value:this.state.bio})),p.default.createElement("fieldset",{className:"form-group"},p.default.createElement("input",{className:"form-control form-control-lg",type:"text",placeholder:"Email",name:"email",onChange:this.handleChange,autoComplete:"off",value:this.state.email})),p.default.createElement("fieldset",{className:"form-group"},p.default.createElement("input",{ref:function(t){e.passwordInput=t},className:"form-control form-control-lg",type:"password",placeholder:"Password",name:"password",onChange:this.handleChange,autoComplete:"off",value:this.state.password})),p.default.createElement("button",{className:"btn btn-lg btn-primary pull-xs-right",type:"submit"},"Update Settings")))))))}}]),t}(p.default.PureComponent);y.propTypes={dispatch:m.default.func.isRequired,hydrated:m.default.bool.isRequired,history:m.default.shape().isRequired,user:m.default.shape().isRequired},t.default=(0,h.connect)(function(e){return{user:e.user,hydrated:e.hydrated}})(y)},6:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=d(r(31)),n=d(r(3)),u=d(r(23));t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments[1];switch(t.type){case f:return(0,n.default)({},t.payload.user);case c:return(0,n.default)({},k,{error:t.error});case m:return(0,n.default)({},t.payload.user);case h:return(0,n.default)({},k,{error:t.error});case v:return(0,n.default)({},k);case g:return(0,n.default)({},e,{error:t.error});case _:return(0,n.default)({},t.payload.user);case S:return(0,n.default)({},e,{error:t.error});case R:return(0,n.default)({},t.payload.user);case b:return(0,n.default)({},e,{error:t.error});case C:e.error;var r=(0,a.default)(e,["error"]);return r;default:return e}},t.signup=function(e){var t=e.username,r=e.email,a=e.password;return function(e){return e({type:i}),(0,s.request)(void 0,{method:"post",url:"/users",data:{user:{username:t,email:r,password:a}}}).then(function(t){(0,s.setJWT)(t.data.user.token),o.default.post("/api/token",{token:t.data.user.token}),e({type:f,payload:t.data})},function(t){(0,s.setJWT)(void 0),o.default.post("/api/token",{token:""}),e({type:c,error:(0,l.parseError)(t)})})}},t.login=function(e){var t=e.email,r=e.password;return function(e){return e({type:p}),(0,s.request)(void 0,{method:"post",url:"/users/login",data:{user:{email:t,password:r}}}).then(function(t){(0,s.setJWT)(t.data.user.token),o.default.post("/api/token",{token:t.data.user.token}),e({type:m,payload:t.data})},function(t){(0,s.setJWT)(void 0),o.default.post("/api/token",{token:""}),e({type:h,error:(0,l.parseError)(t)})})}},t.me=function(e){var t=e.req;return function(e){return e({type:y}),(0,s.request)(t,{method:"get",url:"/user"}).then(function(t){return e({type:_,payload:t.data})},function(t){return e({type:S,error:(0,l.parseError)(t)})})}},t.save=function(e){var t=e.bio,r=e.email,a=e.image,n=e.username,u=e.password;if(!r||!n)return{type:b,error:{message:"Empty username or email"}};var o={bio:t,email:r,image:a,username:n};u&&(o.password=u);return function(e){return e({type:U}),(0,s.request)(void 0,{method:"put",url:"/user",data:{user:o}}).then(function(t){return e({type:R,payload:t.data})},function(t){return e({type:b,error:(0,l.parseError)(t)})})}},t.logout=function(){return function(e){return e({type:E}),o.default.post("/api/token",{token:""}).then(function(){(0,s.setJWT)(void 0),e({type:v})},function(t){e({type:g,error:(0,l.parseError)(t)})})}},t.clearErrors=function(){return{type:C}};var o=d(r(43)),s=r(29),l=r(28);function d(e){return e&&e.__esModule?e:{default:e}}var i=(0,u.default)("USER_SIGNUP_REQUEST"),f=(0,u.default)("USER_SIGNUP_SUCCESS"),c=(0,u.default)("USER_SIGNUP_FAILURE"),p=(0,u.default)("USER_LOGIN_REQUEST"),m=(0,u.default)("USER_LOGIN_SUCCESS"),h=(0,u.default)("USER_LOGIN_FAILURE"),E=(0,u.default)("USER_LOGOUT_REQUEST"),v=(0,u.default)("USER_LOGOUT_SUCCESS"),g=(0,u.default)("USER_LOGOUT_FAILURE"),y=(0,u.default)("USER_REQUEST"),_=(0,u.default)("USER_SUCCESS"),S=(0,u.default)("USER_FAILURE"),U=(0,u.default)("USER_SAVE_REQUEST"),R=(0,u.default)("USER_SAVE_SUCCESS"),b=(0,u.default)("USER_SAVE_FAILURE"),C=(0,u.default)("USER_CLEAR_ERRORS"),k={}}};